services:
  orchestrator:
    ports:
      - 8080:8080
    command:
      - --global.sendAnonymousUsage=false
      - --providers.docker
      - --providers.docker.exposedbydefault=false
      - --providers.file.filename=/etc/traefik/config.yml
      - --api.insecure=true
      - --entryPoints.web.address=:80
      - --entryPoints.websecure.address=:443
      - --entryPoints.web.http.redirections.entryPoint.to=websecure
      - --entryPoints.web.http.redirections.entryPoint.scheme=https
    volumes:
      - ../orchestrator/config.yml:/etc/traefik/config.yml:ro
      - ../orchestrator/certs:/etc/certs:ro